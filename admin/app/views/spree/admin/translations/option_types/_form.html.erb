<% resource.class.translatable_fields.each do |field| %>
  <tr>
    <td class="text-left"><%= Spree.t(field) %></td>

    <% [@default_locale, selected_translation_locale].each do |translation_locale| %>
      <% readonly = translation_locale == @default_locale %>
      <td <% if readonly %>style="width: 40%;"<% else %>style="width: 60%;"<% end %>>
        <%= text_field_tag "translation[#{field}][#{translation_locale}]", resource.get_field_with_locale(translation_locale, field), class: 'form-control', readonly: readonly %>
      </td>
    <% end %>
  </tr>
<% end %>

<% if resource.option_values.any? %>
  <tr>
    <th colspan="3" class="bg-light"><%= Spree.t(:option_values) %></th>
  </tr>

  <% resource.option_values.each_with_index do |ov, index| %>
    <% Spree::OptionValue.translatable_fields.each_with_index do |field, field_index| %>
      <tr>
        <td class="text-left">
          <%= Spree.t(field) %>

          <% if field_index.zero? %>
            <%= hidden_field "translation[option_values][#{index}]", :id, value: ov.id %>
          <% end %>
        </td>

        <% [@default_locale, selected_translation_locale].each do |translation_locale| %>
          <% readonly = translation_locale == @default_locale %>

          <td <% if readonly %>style="width: 40%;"<% else %>style="width: 60%;"<% end %>>
            <%= text_field_tag "translation[option_values][#{index}][#{field}][#{translation_locale}]", ov.get_field_with_locale(translation_locale, field), class: 'form-control', readonly: readonly %>
          </td>
        <% end %>
      </tr>
    <% end %>
  <% end %>
<% end %>
